<ion-header>
  <ion-toolbar color="primary" mode="ios">
    <ion-title>{{'users' | translate}}</ion-title>
    <ion-buttons slot="end">
      <ion-menu-button></ion-menu-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-list *ngIf="users.length > 0; else noData">
    <ion-item-sliding *ngFor="let item of users; last as last">

      <ion-item [lines]="last ? 'none' : 'full'" (click)="seeDetails(item)">
        <!-- <ion-avatar slot="start">
          <img [src]="(item.image && item.image != null && item.image != null) ? item.image : defaultImage"
            loading="lazy" alt="img">
        </ion-avatar> -->

        <ion-label class="ion-no-margin">
          <h4 class="my-0">{{item.name}}</h4>

          <!-- <p class="mb-0">{{item.role | translate}}</p>
          <p class="mb-0">{{getName(item.paidCategory)}}</p>
          <p class="mb-0">{{(item.creationDate.toMillis() ) | date:'mediumDate'}}</p> -->
        </ion-label>

        <!-- <ng-container *ngIf="isAdmin">
          <ion-badge slot="end" color="success" *ngIf="item.accountActivity === accountStatus.Approved">
            {{'approved' | translate}}
          </ion-badge>
          <ion-badge slot="end" color="warning" *ngIf="item.accountActivity === accountStatus.Pending">
            {{'pending' | translate}}
          </ion-badge>
          <ion-badge slot="end" color="danger" *ngIf="item.accountActivity === accountStatus.Blocked">
            {{'blocked' | translate}}
          </ion-badge>
        </ng-container> -->
      </ion-item>

      <!-- <ng-container *ngIf="isAdmin">
        <ion-item-options side="start">
          <ion-item-option color="light" (click)="chat(item)">
            <i class="far fa-comments"></i>
          </ion-item-option>
        </ion-item-options>
        <ion-item-options side="end">
          <ion-item-option *ngIf="item.accountActivity != accountStatus.Blocked" color="light" (click)="block(item)">
            <i class="fas fa-ban text-danger"></i>
          </ion-item-option>
          <ion-item-option *ngIf="item.accountActivity != accountStatus.Pending" color="light" (click)="pending(item)">
            <i class="fas fa-circle-stop text-warning"></i>
          </ion-item-option>
          <ion-item-option *ngIf="item.accountActivity != accountStatus.Approved" color="light"
            (click)="approved(item)">
            <i class="fas fa-user-check text-success"></i>
          </ion-item-option>
          <ion-item-option color="light" (click)="remove(item)">
            <i class="fas fa-trash"></i>
          </ion-item-option>
        </ion-item-options>
      </ng-container> -->
    </ion-item-sliding>
  </ion-list>
  <!-- 
  <ng-template #emptyData>
    <w-empty-data></w-empty-data>
  </ng-template>

  <ng-template #noData>
    <w-skelton *ngIf="isDataLoadingNow; else emptyData"></w-skelton>
  </ng-template> -->

</ion-content>


<ng-template #noData>
  No data
</ng-template>

<!-- <app-header [isHasSearch]="true" (searchTextEvent)="filterUsers($event)" [headerName]="'users'"></app-header>


<ion-content>

  <ion-refresher slot="fixed" (ionRefresh)="refreshPage($event)">
    <ion-refresher-content></ion-refresher-content>
  </ion-refresher>

  <app-empty-data *ngIf="users.length < 1 && isDataLoading"></app-empty-data>

  <div *ngIf="!isDataLoading">
    <app-skeleton></app-skeleton>
  </div>
  
  <div *ngIf="isDataLoading && users.length > 0">
    <ion-list *ngFor="let user of users">
      <ion-item-sliding id="item100">
        <ion-item (click)="showUserDetails(user)">
          <ion-label class="lable-container">
            <ion-avatar  slot="start">
              <img [src]="user.image ? user.image : defaultImage" alt="img" />
            </ion-avatar>
            <div class="companyInfo">
              <ion-text color="primary">
                <h2>{{user.name}}</h2>
              </ion-text>
              <p>{{user.email}}</p>
              <p>{{user.mobile}}</p>
            </div>
          </ion-label>
        </ion-item>  
        <ion-item-options side="end">
          <ion-item-option  color="light" (click)="deleteUser(user)">
            <ion-icon slot="icon-only" md-trash color="danger" name="trash"></ion-icon>
            <ion-icon ios="ios-trash" md="md-trash"></ion-icon>
          </ion-item-option>
        </ion-item-options>
      </ion-item-sliding>
    </ion-list>
  </div>
</ion-content> -->